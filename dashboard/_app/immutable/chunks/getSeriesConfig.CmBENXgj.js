import{s as qr,d as Xr,i as Ur,f as Lr,q as sr,l as Mr,n as Dr,t as Hr,u as Nr,v as Vr,w as Yr,c as Zr,j as Jr,H as fr,V as cr,W as Er}from"./scheduler.cXSv0lVe.js";import{S as Qr,i as Wr,t as N,a as V,g as pr,e as vr,d as De,m as Ee,c as Oe,b as Ie}from"./index.DpaiaTSd.js";import{v as Je,a5 as $r,a6 as en,a7 as or,w as Or,y as Ir,g as tn,t as k,J as jr,K as ur,a8 as rn,h as Ce,j as Le,a9 as _t,k as Me,M as nn,c as ln,d as sn,X as Rr,O as fn,Q as yr,R as on,S as un,U as an,aa as cn}from"./VennDiagram.svelte_svelte_type_style_lang.DA4ZRk1x.js";import{w as Br}from"./entry.BjlFL1GI.js";import{a as mr,E as yn}from"./Heatmap.CaaG-x27.js";function zr(l){return e=>e.map(n=>{var i;const s={},f=Object.keys(n);for(const u of f){const y=(i=l[u])!=null?i:u;s[y]=n[u]}return s})}function Fr(l){return e=>{const n=e.map(i=>({...i}));for(const i in l){const s=l[i],f=typeof s=="function"?s(n):s,u=f!=null&&f[Symbol.iterator]&&typeof f!="string"?f:e.map(()=>f);let y=-1;for(const S of n)S[i]=u[++y]}return n}}function Pr(l,t,e){return l==null||t==null?void 0:t===0&&l===0?0:!e&&t===0?void 0:l/t}function Gr(l,t,e){const n=typeof l=="function"?l:u=>u[l],i=u=>u[t],{predicate:s,allowDivideByZero:f}={};return s==null?(u,y,S)=>{const A=i(u),T=n(u,y,S);return Pr(T,A,f)}:(u,y,S)=>{if(!s(u,y,S))return;const A=i(u),T=n(u,y,S);return Pr(T,A,f)}}function mn(l,t){return Je(l,$r({count:en(t)}))[0].count}function hn(l,t,e){let n;if(typeof e!="object")n=Je(l,Or(t,Fr({xTotal:Ir(e)})),or({percentOfX:Gr(e,"xTotal")}),zr({percentOfX:e+"_pct"}));else{n=Je(l,or({valueSum:0}));for(let i=0;i<n.length;i++){n[i].valueSum=0;for(let s=0;s<e.length;s++)n[i].valueSum=n[i].valueSum+n[i][e[s]]}n=Je(n,Or(t,Fr({xTotal:Ir("valueSum")})));for(let i=0;i<e.length;i++)n=Je(n,or({percentOfX:Gr(e[i],"xTotal")}),zr({percentOfX:e[i]+"_pct"}))}return n}function ar(l,t,e){return[...l].sort((n,i)=>(n[t]<i[t]?-1:1)*(e?1:-1))}function gn(l,t,e){const n=t+e;return l%n<t?0:1}function bn(l){let t,e;return t=new Rr({props:{error:l[14],title:l[8]}}),{c(){Ie(t.$$.fragment)},l(n){Oe(t.$$.fragment,n)},m(n,i){Ee(t,n,i),e=!0},p(n,i){const s={};i[0]&16384&&(s.error=n[14]),i[0]&256&&(s.title=n[8]),t.$set(s)},i(n){e||(V(t.$$.fragment,n),e=!0)},o(n){N(t.$$.fragment,n),e=!1},d(n){De(t,n)}}}function xn(l){let t,e,n;const i=l[136].default,s=Hr(i,l,l[135],null);return e=new yn({props:{config:l[20],height:l[15],width:l[13],data:l[0],queryID:l[6],evidenceChartTitle:l[7],showAllXAxisLabels:l[1],swapXY:l[3],echartsOptions:l[9],seriesOptions:l[10],printEchartsConfig:l[2],renderer:l[11],downloadableData:l[4],downloadableImage:l[5],connectGroup:l[12],xAxisLabelOverflow:l[23],seriesColors:l[16]}}),{c(){s&&s.c(),t=Jr(),Ie(e.$$.fragment)},l(f){s&&s.l(f),t=Zr(f),Oe(e.$$.fragment,f)},m(f,u){s&&s.m(f,u),Ur(f,t,u),Ee(e,f,u),n=!0},p(f,u){s&&s.p&&(!n||u[4]&2048)&&Nr(s,i,f,f[135],n?Yr(i,f[135],u,null):Vr(f[135]),null);const y={};u[0]&1048576&&(y.config=f[20]),u[0]&32768&&(y.height=f[15]),u[0]&8192&&(y.width=f[13]),u[0]&1&&(y.data=f[0]),u[0]&64&&(y.queryID=f[6]),u[0]&128&&(y.evidenceChartTitle=f[7]),u[0]&2&&(y.showAllXAxisLabels=f[1]),u[0]&8&&(y.swapXY=f[3]),u[0]&512&&(y.echartsOptions=f[9]),u[0]&1024&&(y.seriesOptions=f[10]),u[0]&4&&(y.printEchartsConfig=f[2]),u[0]&2048&&(y.renderer=f[11]),u[0]&16&&(y.downloadableData=f[4]),u[0]&32&&(y.downloadableImage=f[5]),u[0]&4096&&(y.connectGroup=f[12]),u[0]&65536&&(y.seriesColors=f[16]),e.$set(y)},i(f){n||(V(s,f),V(e.$$.fragment,f),n=!0)},o(f){N(s,f),N(e.$$.fragment,f),n=!1},d(f){f&&Xr(t),s&&s.d(f),De(e,f)}}}function Tn(l){let t,e,n,i;const s=[xn,bn],f=[];function u(y,S){return y[14]?1:0}return t=u(l),e=f[t]=s[t](l),{c(){e.c(),n=Lr()},l(y){e.l(y),n=Lr()},m(y,S){f[t].m(y,S),Ur(y,n,S),i=!0},p(y,S){let A=t;t=u(y),t===A?f[t].p(y,S):(pr(),N(f[A],1,1,()=>{f[A]=null}),vr(),e=f[t],e?e.p(y,S):(e=f[t]=s[t](y),e.c()),V(e,1),e.m(n.parentNode,n))},i(y){i||(V(e),i=!0)},o(y){N(e),i=!1},d(y){y&&Xr(n),f[t].d(y)}}}function An(l,t,e){let n,i,s,f,u,y=sr,S=()=>(y(),y=fr(s,r=>e(131,u=r)),s),A,T,p=sr,C=()=>(p(),p=fr(i,r=>e(133,T=r)),i),O,d=sr,Y=()=>(d(),d=fr(n,r=>e(134,O=r)),n),B;l.$$.on_destroy.push(()=>y()),l.$$.on_destroy.push(()=>p()),l.$$.on_destroy.push(()=>d());let{$$slots:Q={},$$scope:_}=t,E=Br({}),I=Br({});Mr(l,I,r=>e(20,B=r));const{theme:z,resolveColor:F,resolveColorsObject:wt,resolveColorPalette:w}=tn();Mr(l,z,r=>e(132,A=r));let{data:o=void 0}=t,{queryID:h=void 0}=t,{x:m=void 0}=t,{y:a=void 0}=t,{y2:g=void 0}=t,{series:L=void 0}=t,{size:j=void 0}=t,{tooltipTitle:v=void 0}=t,{showAllXAxisLabels:$=void 0}=t,{printEchartsConfig:pe=!1}=t,St=!!a,dt=!!m,{swapXY:x=!1}=t,{title:ve=void 0}=t,{subtitle:$e=void 0}=t,{chartType:et="Chart"}=t,{bubble:kt=!1}=t,{hist:Ct=!1}=t,{boxplot:Lt=!1}=t,ee,{xType:M=void 0}=t,{xAxisTitle:W="false"}=t,{xBaseline:le=!0}=t,{xTickMarks:ie=!1}=t,{xGridlines:se=!1}=t,{xAxisLabels:fe=!0}=t,{sort:oe=!0}=t,{xFmt:tt=void 0}=t,{xMin:rt=void 0}=t,{xMax:nt=void 0}=t,{yLog:Z=!1}=t,{yType:lt=Z===!0?"log":"value"}=t,{yLogBase:it=10}=t,{yAxisTitle:G="false"}=t,{yBaseline:ue=!1}=t,{yTickMarks:ae=!1}=t,{yGridlines:ce=!0}=t,{yAxisLabels:ye=!0}=t,{yMin:je=void 0}=t,{yMax:st=void 0}=t,{yScale:me=!1}=t,{yFmt:Be=void 0}=t,{yAxisColor:Mt="true"}=t,{y2AxisTitle:J="false"}=t,{y2Baseline:ze=!1}=t,{y2TickMarks:Fe=!1}=t,{y2Gridlines:Pe=!0}=t,{y2AxisLabels:Ge=!0}=t,{y2Min:ft=void 0}=t,{y2Max:Dt=void 0}=t,{y2Scale:qe=!1}=t,{y2Fmt:Xe=void 0}=t,{y2AxisColor:Et="true"}=t,{sizeFmt:ot=void 0}=t,{colorPalette:Ot="default"}=t,{legend:q=void 0}=t,{echartsOptions:hr=void 0}=t,{seriesOptions:gr=void 0}=t,{seriesColors:It=void 0}=t,{stackType:jt=void 0}=t,{stacked100:Ue=!1}=t,{chartAreaHeight:X}=t,{renderer:br=void 0}=t,{downloadableData:ut=!0}=t,{downloadableImage:at=!0}=t,{connectGroup:xr=void 0}=t,{leftPadding:Bt=void 0}=t,{rightPadding:zt=void 0}=t,{xLabelWrap:He=!1}=t;const Kr=He?"break":"truncate";let b,ct,yt=[],he=[],Ft,Ne,U,Pt,H,D,R,mt,Gt,Ve,ht,qt,gt,ge,Xt,Ut,Ye,be,Ht,Nt,Vt,Yt,Qt,Wt,Rt,Kt,Zt,Jt,pt,xe,Qe,We,bt,xt,vt,$t,Te,er,tr,Tt,Tr,rr,te=[],Ae=!0,K=[],Re=[],P,Ke,nr,re;return l.$$set=r=>{"data"in r&&e(0,o=r.data),"queryID"in r&&e(6,h=r.queryID),"x"in r&&e(24,m=r.x),"y"in r&&e(25,a=r.y),"y2"in r&&e(49,g=r.y2),"series"in r&&e(50,L=r.series),"size"in r&&e(51,j=r.size),"tooltipTitle"in r&&e(52,v=r.tooltipTitle),"showAllXAxisLabels"in r&&e(1,$=r.showAllXAxisLabels),"printEchartsConfig"in r&&e(2,pe=r.printEchartsConfig),"swapXY"in r&&e(3,x=r.swapXY),"title"in r&&e(7,ve=r.title),"subtitle"in r&&e(53,$e=r.subtitle),"chartType"in r&&e(8,et=r.chartType),"bubble"in r&&e(54,kt=r.bubble),"hist"in r&&e(55,Ct=r.hist),"boxplot"in r&&e(56,Lt=r.boxplot),"xType"in r&&e(26,M=r.xType),"xAxisTitle"in r&&e(27,W=r.xAxisTitle),"xBaseline"in r&&e(28,le=r.xBaseline),"xTickMarks"in r&&e(29,ie=r.xTickMarks),"xGridlines"in r&&e(30,se=r.xGridlines),"xAxisLabels"in r&&e(31,fe=r.xAxisLabels),"sort"in r&&e(32,oe=r.sort),"xFmt"in r&&e(57,tt=r.xFmt),"xMin"in r&&e(58,rt=r.xMin),"xMax"in r&&e(59,nt=r.xMax),"yLog"in r&&e(33,Z=r.yLog),"yType"in r&&e(60,lt=r.yType),"yLogBase"in r&&e(61,it=r.yLogBase),"yAxisTitle"in r&&e(34,G=r.yAxisTitle),"yBaseline"in r&&e(35,ue=r.yBaseline),"yTickMarks"in r&&e(36,ae=r.yTickMarks),"yGridlines"in r&&e(37,ce=r.yGridlines),"yAxisLabels"in r&&e(38,ye=r.yAxisLabels),"yMin"in r&&e(62,je=r.yMin),"yMax"in r&&e(63,st=r.yMax),"yScale"in r&&e(39,me=r.yScale),"yFmt"in r&&e(64,Be=r.yFmt),"yAxisColor"in r&&e(65,Mt=r.yAxisColor),"y2AxisTitle"in r&&e(40,J=r.y2AxisTitle),"y2Baseline"in r&&e(41,ze=r.y2Baseline),"y2TickMarks"in r&&e(42,Fe=r.y2TickMarks),"y2Gridlines"in r&&e(43,Pe=r.y2Gridlines),"y2AxisLabels"in r&&e(44,Ge=r.y2AxisLabels),"y2Min"in r&&e(66,ft=r.y2Min),"y2Max"in r&&e(67,Dt=r.y2Max),"y2Scale"in r&&e(45,qe=r.y2Scale),"y2Fmt"in r&&e(68,Xe=r.y2Fmt),"y2AxisColor"in r&&e(69,Et=r.y2AxisColor),"sizeFmt"in r&&e(70,ot=r.sizeFmt),"colorPalette"in r&&e(71,Ot=r.colorPalette),"legend"in r&&e(46,q=r.legend),"echartsOptions"in r&&e(9,hr=r.echartsOptions),"seriesOptions"in r&&e(10,gr=r.seriesOptions),"seriesColors"in r&&e(72,It=r.seriesColors),"stackType"in r&&e(73,jt=r.stackType),"stacked100"in r&&e(74,Ue=r.stacked100),"chartAreaHeight"in r&&e(47,X=r.chartAreaHeight),"renderer"in r&&e(11,br=r.renderer),"downloadableData"in r&&e(4,ut=r.downloadableData),"downloadableImage"in r&&e(5,at=r.downloadableImage),"connectGroup"in r&&e(12,xr=r.connectGroup),"leftPadding"in r&&e(75,Bt=r.leftPadding),"rightPadding"in r&&e(76,zt=r.rightPadding),"xLabelWrap"in r&&e(48,He=r.xLabelWrap),"$$scope"in r&&e(135,_=r.$$scope)},l.$$.update=()=>{var r,Ar,_r,wr,Sr,dr;if(l.$$.dirty[0]&4&&e(2,pe=k(pe)),l.$$.dirty[0]&8&&e(3,x=k(x)),l.$$.dirty[0]&268435456&&e(28,le=k(le)),l.$$.dirty[0]&536870912&&e(29,ie=k(ie)),l.$$.dirty[0]&1073741824&&e(30,se=k(se)),l.$$.dirty[1]&1&&e(31,fe=k(fe)),l.$$.dirty[1]&2&&e(32,oe=k(oe)),l.$$.dirty[1]&4&&e(33,Z=k(Z)),l.$$.dirty[1]&16&&e(35,ue=k(ue)),l.$$.dirty[1]&32&&e(36,ae=k(ae)),l.$$.dirty[1]&64&&e(37,ce=k(ce)),l.$$.dirty[1]&128&&e(38,ye=k(ye)),l.$$.dirty[1]&256&&e(39,me=k(me)),l.$$.dirty[2]&8&&Y(e(19,n=F(Mt))),l.$$.dirty[1]&1024&&e(41,ze=k(ze)),l.$$.dirty[1]&2048&&e(42,Fe=k(Fe)),l.$$.dirty[1]&4096&&e(43,Pe=k(Pe)),l.$$.dirty[1]&8192&&e(44,Ge=k(Ge)),l.$$.dirty[1]&16384&&e(45,qe=k(qe)),l.$$.dirty[2]&128&&C(e(18,i=F(Et))),l.$$.dirty[2]&512&&S(e(17,s=w(Ot))),l.$$.dirty[2]&1024&&e(16,f=wt(It)),l.$$.dirty[0]&16&&e(4,ut=k(ut)),l.$$.dirty[0]&32&&e(5,at=k(at)),l.$$.dirty[1]&131072&&e(48,He=k(He)),l.$$.dirty[0]&2130731403|l.$$.dirty[1]&2147352575|l.$$.dirty[2]&2147481975|l.$$.dirty[3]&2147483647|l.$$.dirty[4]&2047)try{if(e(14,Ke=void 0),e(124,te=[]),e(83,he=[]),e(126,K=[]),e(127,Re=[]),e(85,Ne=[]),e(77,St=!!a),e(78,dt=!!m),jr(o),e(80,b=ur(o)),e(81,ct=Object.keys(b)),dt||e(24,m=ct[0]),!St){e(82,yt=ct.filter(function(c){return![m,L,j].includes(c)}));for(let c=0;c<yt.length;c++)e(85,Ne=yt[c]),e(84,Ft=b[Ne].type),Ft==="number"&&he.push(Ne);e(25,a=he.length>1?he:he[0])}kt?e(79,ee={x:m,y:a,size:j}):Ct?e(79,ee={x:m}):Lt?e(79,ee={}):e(79,ee={x:m,y:a});for(let c in ee)ee[c]==null&&te.push(c);if(te.length===1)throw Error(new Intl.ListFormat().format(te)+" is required");if(te.length>1)throw Error(new Intl.ListFormat().format(te)+" are required");if(Ue===!0&&a.includes("_pct")&&Ae===!1)if(typeof a=="object"){for(let c=0;c<a.length;c++)e(25,a[c]=a[c].replace("_pct",""),a);e(125,Ae=!1)}else e(25,a=a.replace("_pct","")),e(125,Ae=!1);if(m&&K.push(m),a)if(typeof a=="object")for(e(128,P=0);P<a.length;e(128,P++,P))K.push(a[P]);else K.push(a);if(g)if(typeof g=="object")for(e(128,P=0);P<g.length;e(128,P++,P))K.push(g[P]);else K.push(g);if(j&&K.push(j),L&&Re.push(L),v&&Re.push(v),jr(o,K,Re),Ue===!0){if(e(0,o=hn(o,m,a)),typeof a=="object"){for(let c=0;c<a.length;c++)e(25,a[c]=a[c]+"_pct",a);e(125,Ae=!1)}else e(25,a=a+"_pct"),e(125,Ae=!1);e(80,b=ur(o))}switch(e(86,U=b[m].type),U){case"number":e(86,U="value");break;case"string":e(86,U="category");break;case"date":e(86,U="time");break;default:break}if(e(26,M=M==="category"?"category":U),$?e(1,$=$==="true"||$===!0):e(1,$=M==="category"),x&&M!=="category")throw Error("Horizontal charts do not support a value or time-based x-axis. You can either change your SQL query to output string values or set swapXY=false.");if(x&&g)throw Error("Horizontal charts do not support a secondary y-axis. You can either set swapXY=false or remove the y2 prop from your chart.");if(x&&e(26,M="category"),e(87,Pt=U==="value"&&M==="category"),e(0,o=oe?U==="category"?ar(o,a,!1):ar(o,m,!0):o),U==="time"&&e(0,o=ar(o,m,!0)),e(129,nr=ur(o,"array")),e(130,re=nr.filter(c=>c.type==="date")),e(130,re=re.map(c=>c.id)),re.length>0)for(let c=0;c<re.length;c++)e(0,o=rn(o,re[c]));tt?e(88,H=Ce(tt,(r=b[m].format)==null?void 0:r.valueType)):e(88,H=b[m].format),a?Be?typeof a=="object"?e(89,D=Ce(Be,(Ar=b[a[0]].format)==null?void 0:Ar.valueType)):e(89,D=Ce(Be,(_r=b[a].format)==null?void 0:_r.valueType)):typeof a=="object"?e(89,D=b[a[0]].format):e(89,D=b[a].format):e(89,D="str"),g&&(Xe?typeof g=="object"?e(90,R=Ce(Xe,(wr=b[g[0]].format)==null?void 0:wr.valueType)):e(90,R=Ce(Xe,(Sr=b[g].format)==null?void 0:Sr.valueType)):typeof g=="object"?e(90,R=b[g[0]].format):e(90,R=b[g].format)),j&&(ot?e(91,mt=Ce(ot,(dr=b[j].format)==null?void 0:dr.valueType)):e(91,mt=b[j].format)),e(92,Gt=b[m].columnUnitSummary),a&&(typeof a=="object"?e(93,Ve=b[a[0]].columnUnitSummary):e(93,Ve=b[a].columnUnitSummary)),g&&(typeof g=="object"?e(94,ht=b[g[0]].columnUnitSummary):e(94,ht=b[g].columnUnitSummary)),e(27,W=W==="true"?Le(m,H):W==="false"?"":W),e(34,G=G==="true"?typeof a=="object"?"":Le(a,D):G==="false"?"":G),e(40,J=J==="true"?typeof g=="object"?"":Le(g,R):J==="false"?"":J);let _e=typeof a=="object"?a.length:1,kr=L?mn(o,L):1,Ze=_e*kr,lr=typeof g=="object"?g.length:g?1:0,ir=Ze+lr;if(q!==void 0&&e(46,q=q==="true"||q===!0),e(46,q=q??ir>1),Ue===!0&&Z===!0)throw Error("Log axis cannot be used in a 100% stacked chart");if(jt==="stacked"&&ir>1&&Z===!0)throw Error("Log axis cannot be used in a stacked chart");let we;if(typeof a=="object"){we=b[a[0]].columnUnitSummary.min;for(let c=0;c<a.length;c++)b[a[c]].columnUnitSummary.min<we&&(we=b[a[c]].columnUnitSummary.min)}else a&&(we=b[a].columnUnitSummary.min);if(Z===!0&&we<=0&&we!==null)throw Error("Log axis cannot display values less than or equal to zero");E.update(c=>({...c,data:o,x:m,y:a,y2:g,series:L,swapXY:x,sort:oe,xType:M,xFormat:H,yFormat:D,y2Format:R,sizeFormat:mt,xMismatch:Pt,size:j,yMin:je,y2Min:ft,columnSummary:b,xAxisTitle:W,yAxisTitle:G,y2AxisTitle:J,tooltipTitle:v,chartAreaHeight:X,chartType:et,yCount:_e,y2Count:lr})),e(95,qt=mr(o,m));let Cr;if(x?e(96,gt={type:lt,logBase:it,position:"top",axisLabel:{show:ye,hideOverlap:!0,showMaxLabel:!0,formatter(c){return _t(c,D,Ve)},margin:4},min:je,max:st,scale:me,splitLine:{show:ce},axisLine:{show:ue,onZero:!1},axisTick:{show:ae},boundaryGap:!1,z:2}):e(96,gt={type:M,min:rt,max:nt,tooltip:{show:!0,position:"inside",formatter(c){if(c.isTruncated())return c.name}},splitLine:{show:se},axisLine:{show:le},axisTick:{show:ie},axisLabel:{show:fe,hideOverlap:!0,showMaxLabel:M==="category"||M==="value",formatter:M==="time"||M==="category"?!1:function(c){return _t(c,H,Gt)},margin:6},scale:!0,z:2}),x?e(97,ge={type:M,inverse:"true",splitLine:{show:se},axisLine:{show:le},axisTick:{show:ie},axisLabel:{show:fe,hideOverlap:!0},scale:!0,min:rt,max:nt,z:2}):(e(97,ge={type:lt,logBase:it,splitLine:{show:ce},axisLine:{show:ue,onZero:!1},axisTick:{show:ae},axisLabel:{show:ye,hideOverlap:!0,margin:4,formatter(c){return _t(c,D,Ve)},color:g?O==="true"?u[0]:O!=="false"?O:void 0:void 0},name:G,nameLocation:"end",nameTextStyle:{align:"left",verticalAlign:"top",padding:[0,5,0,0],color:g?O==="true"?u[0]:O!=="false"?O:void 0:void 0},nameGap:6,min:je,max:st,scale:me,boundaryGap:["0%","1%"],z:2}),Cr={type:"value",show:!1,alignTicks:!0,splitLine:{show:Pe},axisLine:{show:ze,onZero:!1},axisTick:{show:Fe},axisLabel:{show:Ge,hideOverlap:!0,margin:4,formatter(c){return _t(c,R,ht)},color:T==="true"?u[Ze]:T!=="false"?T:void 0},name:J,nameLocation:"end",nameTextStyle:{align:"right",verticalAlign:"top",padding:[0,0,0,5],color:T==="true"?u[Ze]:T!=="false"?T:void 0},nameGap:6,min:ft,max:Dt,scale:qe,boundaryGap:["0%","1%"],z:2},e(97,ge=[ge,Cr])),X){if(e(47,X=Number(X)),isNaN(X))throw Error("chartAreaHeight must be a number");if(X<=0)throw Error("chartAreaHeight must be a positive number")}else e(47,X=180);e(100,Ye=!!ve),e(101,be=!!$e),e(102,Ht=q*(L!==null||typeof a=="object"&&a.length>1)),e(103,Nt=G!==""&&x),e(104,Vt=W!==""&&!x),e(105,Yt=15),e(106,Qt=13),e(107,Wt=6*be),e(108,Rt=Ye*Yt+be*Qt+Wt*Math.max(Ye,be)),e(109,Kt=10),e(110,Zt=10),e(111,Jt=14),e(112,pt=14),e(113,xe=15),e(113,xe=xe*Ht),e(114,Qe=7),e(114,Qe=Qe*Math.max(Ye,be)),e(115,We=Rt+Qe),e(116,bt=We+xe+pt*Nt+Kt),e(117,xt=Vt*Jt+Zt),e(121,er=8),e(123,Tt=1),x&&(e(122,tr=qt.length),e(123,Tt=Math.max(1,tr/er))),e(118,vt=X*Tt+bt+xt),e(119,$t=We+xe+7),e(15,Tr=vt+"px"),e(13,rr="100%"),e(120,Te=x?G:W),Te!==""&&e(120,Te=Te+" â†’"),e(98,Xt={id:"horiz-axis-title",type:"text",style:{text:Te,textAlign:"right",fill:A.colors["base-content-muted"]},cursor:"auto",right:x?"2%":"3%",top:x?$t:null,bottom:x?null:"2%"}),e(99,Ut={title:{text:ve,subtext:$e,subtextStyle:{width:rr}},tooltip:{trigger:"axis",show:!0,formatter(c){let Se,de,ke,At;if(ir>1){de=c[0].value[x?1:0],Se=`<span id="tooltip" style='font-weight: 600;'>${Me(de,H)}</span>`;for(let ne=c.length-1;ne>=0;ne--)c[ne].seriesName!=="stackTotal"&&(ke=c[ne].value[x?0:1],Se=Se+`<br> <span style='font-size: 11px;'>${c[ne].marker} ${c[ne].seriesName}<span/><span style='float:right; margin-left: 10px; font-size: 12px;'>${Me(ke,gn(c[ne].componentIndex,_e,lr)===0?D:R)}</span>`)}else M==="value"?(de=c[0].value[x?1:0],ke=c[0].value[x?0:1],At=c[0].seriesName,Se=`<span id="tooltip" style='font-weight: 600;'>${Le(m,H)}: </span><span style='float:right; margin-left: 10px;'>${Me(de,H)}</span><br/><span style='font-weight: 600;'>${Le(At,D)}: </span><span style='float:right; margin-left: 10px;'>${Me(ke,D)}</span>`):(de=c[0].value[x?1:0],ke=c[0].value[x?0:1],At=c[0].seriesName,Se=`<span id="tooltip" style='font-weight: 600;'>${Me(de,H)}</span><br/><span>${Le(At,D)}: </span><span style='float:right; margin-left: 10px;'>${Me(ke,D)}</span>`);return Se},confine:!0,axisPointer:{type:"shadow"},extraCssText:'box-shadow: 0 3px 6px rgba(0,0,0,.15); box-shadow: 0 2px 4px rgba(0,0,0,.12); z-index: 1; font-feature-settings: "cv02", "tnum";',order:"valueDesc"},legend:{show:q,type:"scroll",top:We,padding:[0,0,0,0],data:[]},grid:{left:Bt??(x?"1%":"0.8%"),right:zt??(x?"4%":"3%"),bottom:xt,top:bt,containLabel:!0},xAxis:gt,yAxis:ge,series:[],animation:!0,graphic:Xt,color:u}),I.update(()=>Ut)}catch(_e){if(e(14,Ke=_e.message),console.error("\x1B[31m%s\x1B[0m",`Error in ${et}: ${_e.message}`),nn)throw Ke;E.update(Ze=>({...Ze,error:Ke}))}l.$$.dirty[0]&1},Dr(ln,E),Dr(sn,I),[o,$,pe,x,ut,at,h,ve,et,hr,gr,br,xr,rr,Ke,Tr,f,s,i,n,B,I,z,Kr,m,a,M,W,le,ie,se,fe,oe,Z,G,ue,ae,ce,ye,me,J,ze,Fe,Pe,Ge,qe,q,X,He,g,L,j,v,$e,kt,Ct,Lt,tt,rt,nt,lt,it,je,st,Be,Mt,ft,Dt,Xe,Et,ot,Ot,It,jt,Ue,Bt,zt,St,dt,ee,b,ct,yt,he,Ft,Ne,U,Pt,H,D,R,mt,Gt,Ve,ht,qt,gt,ge,Xt,Ut,Ye,be,Ht,Nt,Vt,Yt,Qt,Wt,Rt,Kt,Zt,Jt,pt,xe,Qe,We,bt,xt,vt,$t,Te,er,tr,Tt,te,Ae,K,Re,P,nr,re,u,A,T,O,_,Q]}class _n extends Qr{constructor(t){super(),Wr(this,t,An,Tn,qr,{data:0,queryID:6,x:24,y:25,y2:49,series:50,size:51,tooltipTitle:52,showAllXAxisLabels:1,printEchartsConfig:2,swapXY:3,title:7,subtitle:53,chartType:8,bubble:54,hist:55,boxplot:56,xType:26,xAxisTitle:27,xBaseline:28,xTickMarks:29,xGridlines:30,xAxisLabels:31,sort:32,xFmt:57,xMin:58,xMax:59,yLog:33,yType:60,yLogBase:61,yAxisTitle:34,yBaseline:35,yTickMarks:36,yGridlines:37,yAxisLabels:38,yMin:62,yMax:63,yScale:39,yFmt:64,yAxisColor:65,y2AxisTitle:40,y2Baseline:41,y2TickMarks:42,y2Gridlines:43,y2AxisLabels:44,y2Min:66,y2Max:67,y2Scale:45,y2Fmt:68,y2AxisColor:69,sizeFmt:70,colorPalette:71,legend:46,echartsOptions:9,seriesOptions:10,seriesColors:72,stackType:73,stacked100:74,chartAreaHeight:47,renderer:11,downloadableData:4,downloadableImage:5,connectGroup:12,leftPadding:75,rightPadding:76,xLabelWrap:48},null,[-1,-1,-1,-1,-1])}}function wn(l){let t;const e=l[7].default,n=Hr(e,l,l[8],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,s){n&&n.m(i,s),t=!0},p(i,s){n&&n.p&&(!t||s&256)&&Nr(n,e,i,i[8],t?Yr(e,i[8],s,null):Vr(i[8]),null)},i(i){t||(V(n,i),t=!0)},o(i){N(n,i),t=!1},d(i){n&&n.d(i)}}}function Sn(l){let t,e;const n=[l[5],{data:yr.isQuery(l[11])?Array.from(l[11]):l[11]},{queryID:l[6]}];let i={$$slots:{default:[wn]},$$scope:{ctx:l}};for(let s=0;s<n.length;s+=1)i=cr(i,n[s]);return t=new _n({props:i}),{c(){Ie(t.$$.fragment)},l(s){Oe(t.$$.fragment,s)},m(s,f){Ee(t,s,f),e=!0},p(s,f){const u=f&2144?on(n,[f&32&&un(s[5]),f&2048&&{data:yr.isQuery(s[11])?Array.from(s[11]):s[11]},f&64&&{queryID:s[6]}]):{};f&256&&(u.$$scope={dirty:f,ctx:s}),t.$set(u)},i(s){e||(V(t.$$.fragment,s),e=!0)},o(s){N(t.$$.fragment,s),e=!1},d(s){De(t,s)}}}function dn(l){let t,e;return t=new an({props:{slot:"empty",emptyMessage:l[2],emptySet:l[1],chartType:l[5].chartType,isInitial:l[4]}}),{c(){Ie(t.$$.fragment)},l(n){Oe(t.$$.fragment,n)},m(n,i){Ee(t,n,i),e=!0},p(n,i){const s={};i&4&&(s.emptyMessage=n[2]),i&2&&(s.emptySet=n[1]),i&32&&(s.chartType=n[5].chartType),i&16&&(s.isInitial=n[4]),t.$set(s)},i(n){e||(V(t.$$.fragment,n),e=!0)},o(n){N(t.$$.fragment,n),e=!1},d(n){De(t,n)}}}function kn(l){let t,e;return t=new Rr({props:{slot:"error",title:l[5].chartType,error:l[11].error.message}}),{c(){Ie(t.$$.fragment)},l(n){Oe(t.$$.fragment,n)},m(n,i){Ee(t,n,i),e=!0},p(n,i){const s={};i&32&&(s.title=n[5].chartType),i&2048&&(s.error=n[11].error.message),t.$set(s)},i(n){e||(V(t.$$.fragment,n),e=!0)},o(n){N(t.$$.fragment,n),e=!1},d(n){De(t,n)}}}function Cn(l){let t,e;return t=new fn({props:{data:l[0],height:l[3],$$slots:{error:[kn,({loaded:n})=>({11:n}),({loaded:n})=>n?2048:0],empty:[dn],default:[Sn,({loaded:n})=>({11:n}),({loaded:n})=>n?2048:0]},$$scope:{ctx:l}}}),{c(){Ie(t.$$.fragment)},l(n){Oe(t.$$.fragment,n)},m(n,i){Ee(t,n,i),e=!0},p(n,[i]){const s={};i&1&&(s.data=n[0]),i&8&&(s.height=n[3]),i&2358&&(s.$$scope={dirty:i,ctx:n}),t.$set(s)},i(n){e||(V(t.$$.fragment,n),e=!0)},o(n){N(t.$$.fragment,n),e=!1},d(n){De(t,n)}}}function Ln(l,t,e){let n,{$$slots:i={},$$scope:s}=t,{data:f}=t;const u=yr.isQuery(f)?f.hash:void 0;let y=(f==null?void 0:f.hash)===u,{emptySet:S=void 0}=t,{emptyMessage:A=void 0}=t,{height:T=200}=t,p=f==null?void 0:f.id;return l.$$set=C=>{e(10,t=cr(cr({},t),Er(C))),"data"in C&&e(0,f=C.data),"emptySet"in C&&e(1,S=C.emptySet),"emptyMessage"in C&&e(2,A=C.emptyMessage),"height"in C&&e(3,T=C.height),"$$scope"in C&&e(8,s=C.$$scope)},l.$$.update=()=>{l.$$.dirty&1&&e(4,y=(f==null?void 0:f.hash)===u),e(5,n={...Object.fromEntries(Object.entries(t).filter(([,C])=>C!==void 0))})},t=Er(t),[f,S,A,T,y,n,p,i,s]}class jn extends Qr{constructor(t){super(),Wr(this,t,Ln,Cn,qr,{data:0,emptySet:1,emptyMessage:2,height:3})}}function Bn(l,t,e,n,i,s,f,u,y,S,A=void 0,T=void 0,p=void 0,C=void 0){function O(o,h,m,a){let g={name:h,data:o,yAxisIndex:m};return g={...a,...g},g}let d,Y,B,Q=[],_,E,I,z,F;function wt(o,h){const m=[];function a(L){return typeof L>"u"}function g(L,j){a(L)||(Array.isArray(L)?L.forEach(v=>m.push([v,j])):m.push([L,j]))}return g(o,0),g(h,1),m}let w=wt(e,p);if(n!=null&&w.length===1)for(z=mr(l,n),d=0;d<z.length;d++){if(E=l.filter(o=>o[n]===z[d]),i?_=E.map(o=>[o[w[0][0]],u?o[t].toString():o[t]]):_=E.map(o=>[u?o[t].toString():o[t],o[w[0][0]]]),A){let o=E.map(h=>h[A]);_.forEach((h,m)=>h.push(o[m]))}if(T){let o=E.map(h=>h[T]);_.forEach((h,m)=>h.push(o[m]))}I=z[d]??"null",F=w[0][1],B=O(_,I,F,s),Q.push(B)}if(n!=null&&w.length>1)for(z=mr(l,n),d=0;d<z.length;d++)for(E=l.filter(o=>o[n]===z[d]),Y=0;Y<w.length;Y++){if(i?_=E.map(o=>[o[w[Y][0]],u?o[t].toString():o[t]]):_=E.map(o=>[u?o[t].toString():o[t],o[w[Y][0]]]),A){let o=E.map(h=>h[A]);_.forEach((h,m)=>h.push(o[m]))}if(T){let o=E.map(h=>h[T]);_.forEach((h,m)=>h.push(o[m]))}I=(z[d]??"null")+" - "+y[w[Y][0]].title,F=w[Y][1],B=O(_,I,F,s),Q.push(B)}if(n==null&&w.length>1)for(d=0;d<w.length;d++){if(i?_=l.map(o=>[o[w[d][0]],u?o[t].toString():o[t]]):_=l.map(o=>[u?o[t].toString():o[t],o[w[d][0]]]),A){let o=l.map(h=>h[A]);_.forEach((h,m)=>h.push(o[m]))}if(T){let o=l.map(h=>h[T]);_.forEach((h,m)=>h.push(o[m]))}I=y[w[d][0]].title,F=w[d][1],B=O(_,I,F,s),Q.push(B)}if(n==null&&w.length===1){if(i?_=l.map(o=>[o[w[0][0]],u?o[t].toString():o[t]]):_=l.map(o=>[u?o[t].toString():o[t],o[w[0][0]]]),A){let o=l.map(h=>h[A]);_.forEach((h,m)=>h.push(o[m]))}if(T){let o=l.map(h=>h[T]);_.forEach((h,m)=>h.push(o[m]))}I=y[w[0][0]].title,F=w[0][1],B=O(_,I,F,s),Q.push(B)}return S&&Q.sort((o,h)=>S.indexOf(o.name)-S.indexOf(h.name)),C&&Q.forEach(o=>{o.name=cn(o.name,C)}),Q}export{jn as C,Bn as a,ar as b,gn as g};
